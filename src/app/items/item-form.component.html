<!-- src/app/items/item-form.component.html -->

<div class="mx-auto max-w-lg p-4">
  <h2 class="mb-4 text-2xl font-bold">
    {{ isEdit ? "Edit Item" : "New Item" }}
  </h2>

  <form [formGroup]="itemForm" (ngSubmit)="onSubmit()" class="space-y-4">
    <!-- Name -->
    <div>
      <label for="name" class="mb-1 block font-medium">Name</label>
      <input
        id="name"
        pInputText
        formControlName="name"
        class="w-full"
        [ngClass]="
          itemForm.get('name')?.invalid && itemForm.get('name')?.touched
            ? 'border-red-500'
            : ''
        "
      />
      <div
        *ngIf="itemForm.get('name')?.invalid && itemForm.get('name')?.touched"
        class="mt-1 text-sm text-red-500"
      >
        Name is required.
      </div>
    </div>

    <!-- Description -->
    <div>
      <label for="description" class="mb-1 block font-medium"
        >Description</label
      >
      <textarea
        id="description"
        pInputTextarea
        formControlName="description"
        class="w-full"
      ></textarea>
    </div>

    <!-- Price -->
    <div>
      <label for="price" class="mb-1 block font-medium">Price</label>
      <input
        id="price"
        pInputText
        formControlName="price"
        placeholder="e.g. 19.99 â‚¬"
        class="w-full"
        [ngClass]="
          itemForm.get('price')?.invalid && itemForm.get('price')?.touched
            ? 'border-red-500'
            : ''
        "
      />
      <div
        *ngIf="itemForm.get('price')?.invalid && itemForm.get('price')?.touched"
        class="mt-1 text-sm text-red-500"
      >
        Price is required.
      </div>
    </div>

    <!-- In Stock -->
    <div class="flex items-center">
      <p-checkbox formControlName="inStock" inputId="inStock"></p-checkbox>
      <label for="inStock" class="ml-2">In Stock</label>
    </div>

    <!-- Buttons -->
    <div class="mt-4 flex space-x-2">
      <button
        pButton
        type="submit"
        label="Save"
        [disabled]="loading"
        class="flex-1"
      ></button>
      <button
        pButton
        type="button"
        label="Cancel"
        (click)="onCancel()"
        class="p-button-secondary flex-1"
      ></button>
    </div>
  </form>
</div>
